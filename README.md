# ğŸ“Œ êµ¬í˜„ ë²”ìœ„

## âœ… DB

- ì ‘ì† ì •ë³´: http://localhost:8080/h2-console

> ì „ì²´ í…Œì´ë¸” êµ¬ì¡°ëŠ” ERD ì´ë¯¸ì§€(`erd.png`)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.
### ğŸ“‚ í…Œì´ë¸” êµ¬ì¡° ìš”ì•½

| í…Œì´ë¸”ëª…        | ì„¤ëª…                               |
|-----------------|------------------------------------|
| `category`      | ì¹´í…Œê³ ë¦¬ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” í…Œì´ë¸”     |
| `brand`         | ë¸Œëœë“œ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” í…Œì´ë¸”       |
| `product`       | ìƒí’ˆ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” í…Œì´ë¸”         |
| `product_rank`  | ìƒí’ˆ ë­í‚¹ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”    |



## âœ… API
> ìƒì„¸ API ì •ì˜ëŠ” api-docs í´ë”ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.<br>
> - /api-docs/html/index.html(openapië¥¼ í†µí•´ ìƒì„±ëœ html íŒŒì¼)
> - /api-docs/api-yaml.yaml(ì›ë³¸)
### ğŸ“‚ API ì •ì˜ ìš”ì•½
| HTTP Method | Endpoint                                      | ì„¤ëª…                                                             |
|-------------|-----------------------------------------------|------------------------------------------------------------------|
| GET         | `/categories/lowest`                          | ì¹´í…Œê³ ë¦¬ë³„ ìµœì €ê°€ê²© ë¸Œëœë“œì™€ ìƒí’ˆ ê°€ê²©, ì´ì•¡ ì¡°íšŒ                |
| GET         | `/categories/{categoryId}/lowest-highest`     | ì¹´í…Œê³ ë¦¬ì˜ ìµœì €/ìµœê³ ê°€ê²© ë¸Œëœë“œì™€ ìƒí’ˆ ê°€ê²© ì¡°íšŒ                 |
| GET         | `/brands/categories/lowest`                   | ë‹¨ì¼ ë¸Œëœë“œ ê¸°ì¤€ ëª¨ë“  ì¹´í…Œë¦¬ ìƒí’ˆì„ ìµœì €ê°€ë¡œ êµ¬ë§¤í•  ë•Œ ì •ë³´ ì¡°íšŒ |
| POST        | `/brands`                                     | ë¸Œëœë“œ ë“±ë¡                                                      |
| DELETE      | `/brands/{brandId}`                           | ë¸Œëœë“œ ì‚­ì œ                                                      |
| POST        | `/products`                                   | ìƒí’ˆ ë“±ë¡                                                        |
| PUT         | `/products/{productId}`                       | ìƒí’ˆ ìˆ˜ì •                                                        |
| DELETE      | `/products/{productId}`                       | ìƒí’ˆ ì‚­ì œ                                                        |

### ğŸ“‚ API Error Code
| ì½”ë“œ | HTTP ìƒíƒœì½”ë“œ | ê¸°ë³¸ ë©”ì‹œì§€ | ë©”ì‹œì§€ í¬ë§· |
|------|----------------|--------------|--------------|
| `INTERNAL_SERVER_ERROR` | 500 (Internal Server Error) | Internal Server Error | *(ì—†ìŒ)* |
| `NOT_FOUND`             | 404 (Not Found)             | Not Found             | *(ì—†ìŒ)* |
| `BAD_REQUEST`           | 400 (Bad Request)           | Bad Request           | *(ì—†ìŒ)* |
| `INVALID_REQUEST`       | 400 (Bad Request)           | Invalid               | `Invalid %s` |
| `ALREADY_EXISTS`        | 400 (Bad Request)           | already exists        | `%s already exists` |
| `REQUEST_TIMEOUT`       | 408 (Request Timeout)       | Request Timeout       | *(ì—†ìŒ)* |
| `TOO_MANY_REQUESTS`     | 429 (Too Many Requests)     | Too Many Requests     | *(ì—†ìŒ)* |
| `SERVICE_UNAVAILABLE`   | 503 (Service Unavailable)   | Service Unavailable   | *(ì—†ìŒ)* |
| `UNAUTHORIZED`          | 401 (Unauthorized)          | Unauthorized          | *(ì—†ìŒ)* |
| `FORBIDDEN`             | 403 (Forbidden)             | Forbidden             | *(ì—†ìŒ)* |



## âœ… ì£¼ìš” ê¸°ëŠ¥

### 1. ìƒí’ˆ ë­í‚¹ ì´ˆê¸°í™”
- ì–´í”Œë¦¬ì¼€ì´ì…˜ ìµœì´ˆ ì‹¤í–‰ ì‹œ, ë­í‚¹ ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
- ì´ˆê¸°í™” ëŒ€ìƒ:
  - **ì¹´í…Œê³ ë¦¬ë³„ ë¸Œëœë“œ ìµœì €ê°€ ë­í‚¹**
  - **ì¹´í…Œê³ ë¦¬ë³„ ë¸Œëœë“œ ìµœê³ ê°€ ë­í‚¹**
  - **ë¸Œëœë“œë³„ ì¹´í…Œê³ ë¦¬ ìµœì €ê°€ ë­í‚¹**
  - **ë¸Œëœë“œë³„ ì „ì²´ ì¹´í…Œê³ ë¦¬ ìµœì €ê°€ í•©ì‚° ë­í‚¹**

---

### 2. ìƒí’ˆ ë­í‚¹ ì—…ë°ì´íŠ¸
- ìƒí’ˆ ì •ë³´ ë³€ê²½ ì‹œ ë­í‚¹ì— ì˜í–¥ì´ ìˆëŠ” ê²½ìš° ì—…ë°ì´íŠ¸ ìˆ˜í–‰
- **ë™ì‹œì„± ì´ìŠˆ ë°©ì§€**ë¥¼ ìœ„í•´ ë­í‚¹ì€ ê¸°íšëœ ë“±ìˆ˜ë³´ë‹¤ **ë²„í¼ ë“±ìˆ˜(ì˜ˆ: ìƒìœ„ 10ë“± + 5ë“± = 15ë“±)** ê¹Œì§€ ê´€ë¦¬

---

### 3. ìƒí’ˆ ë­í‚¹ ì¡°íšŒ
- ì•„ë˜ 4ê°€ì§€ ê¸°ì¤€ìœ¼ë¡œ ë­í‚¹ ì •ë³´ë¥¼ ì¡°íšŒ ê°€ëŠ¥:
  - ì¹´í…Œê³ ë¦¬ë³„ ë¸Œëœë“œ ìµœì €ê°€ ë­í‚¹
  - ì¹´í…Œê³ ë¦¬ë³„ ë¸Œëœë“œ ìµœê³ ê°€ ë­í‚¹
  - ë¸Œëœë“œë³„ ì¹´í…Œê³ ë¦¬ ìµœì €ê°€ ë­í‚¹
  - ë¸Œëœë“œë³„ ì „ì²´ ì¹´í…Œê³ ë¦¬ ìµœì €ê°€ í•©ì‚° ë­í‚¹

---

### 4. ìƒí’ˆ ê´€ë¦¬ (ë“±ë¡/ìˆ˜ì •/ì‚­ì œ/ì¡°íšŒ)
- ìƒí’ˆ ë“±ë¡ ë° ìˆ˜ì • ì‹œ ë°ì´í„° ìœ íš¨ì„± ê²€ì¦ ìˆ˜í–‰
- ìƒí’ˆ ì •ë³´ê°€ ë­í‚¹ì— ì˜í–¥ì„ ì¤„ ê²½ìš° í•´ë‹¹ ë­í‚¹ ì—…ë°ì´íŠ¸

---

### 5.  ë¸Œëœë“œ ê´€ë¦¬ (ë“±ë¡/ì‚­ì œ/ì¡°íšŒ)
- ë¸Œëœë“œ ë“±ë¡ ì‹œ ë°ì´í„° ìœ íš¨ì„± ê²€ì¦ ìˆ˜í–‰
- ë¸Œëœë“œ ì •ë³´ê°€ ë­í‚¹ì— ì˜í–¥ì„ ì¤„ ê²½ìš° í•´ë‹¹ ë­í‚¹ ì—…ë°ì´íŠ¸

---

### 6.  ì¹´í…Œê³ ë¦¬ ì¡°íšŒ
- ë“±ë¡ëœ ì¹´í…Œê³ ë¦¬ ëª©ë¡ ì¡°íšŒ ê¸°ëŠ¥ ì œê³µ

---

### 7. ìºì‹œ ì ìš© (Caffeine Cache)
- **Caffeine**ì„ ì‚¬ìš©í•œ ë¡œì»¬ ìºì‹œ ì ìš©
- ì¡°íšŒ ì„±ëŠ¥ ê°œì„ ì„ ìœ„í•´ ìºì‹± ì‚¬ìš©
- ìºì‹œ ê°±ì‹ (@Cacheable,@CachePut,@CacheEvict)

---

### 8. ì—ëŸ¬ ì‘ë‹µ ì²˜ë¦¬
- `@ExceptionHandler`ë¥¼ í™œìš©í•˜ì—¬ ì»¤ìŠ¤í…€ ì—ëŸ¬ ì‘ë‹µ ì²˜ë¦¬
- ì¼ê´€ëœ í˜•íƒœì˜ ì—ëŸ¬ ë©”ì‹œì§€ ë°˜í™˜

---

### 9. ê°ì²´ ë§¤í•‘ (MapStruct)
- MapStructë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ ê°„ ë³€í™˜ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬

---


## ğŸ› ï¸ ê°œë°œ í™˜ê²½ ë° ê¸°ìˆ  ìŠ¤íƒ

- **Java**: OpenJDK 17
- **Build Tool**:  Maven 3.9.9
- **Framework**: Spring Boot 3.4.5
- **Database**: H2 (In-Memory)
- **ORM**: JPA (Hibernate)
- **Mapper**: MapStruct
- **Cache**: Caffeine Cache


---

# ğŸ“Œ ì½”ë“œ ë¹Œë“œ ë° ì‹¤í–‰
## âœ… Maven Build
```shell
mvn clean:clean package -Dmaven.test.skip=true
```

## âœ… Run Intellij IDE
- Run Application.main()

## âœ… Run Java 
```shell
# -Xms	ì´ˆê¸° í™(heap) ë©”ëª¨ë¦¬ í¬ê¸° (ì²˜ìŒ í• ë‹¹ë˜ëŠ” ë©”ëª¨ë¦¬)
# -Xmx	ìµœëŒ€ í™ ë©”ëª¨ë¦¬ í¬ê¸° (ìµœëŒ€ ì‚¬ìš© ê°€ëŠ¥ ë©”ëª¨ë¦¬)
# -XX	GCì¢…ë¥˜ : +UseG1GC,+UseParallelGC,+UseConcMarkSweepGC,+UseZGC,+UseShenandoahGC
java -jar lee-shopping-1.0.jar
```


# ğŸ“Œ í…ŒìŠ¤íŠ¸
## âœ… Junit Test
### âœ… BrandControllerTest
| í…ŒìŠ¤íŠ¸ ë©”ì„œë“œëª…             | ì„¤ëª…                             |
|----------------------------|----------------------------------|
| `getBrandCategoriesLowest` | ë¸Œëœë“œ ì¹´í…Œê³ ë¦¬ ìµœì €ê°€ ì¡°íšŒ API í…ŒìŠ¤íŠ¸ |
| `registerSuccess`           | ì •ìƒì ì¸ ë¸Œëœë“œ ë“±ë¡ ìš”ì²­ í…ŒìŠ¤íŠ¸        |
| `registerFailBlank`         | ë¹ˆ ë¬¸ìì—´ ë¸Œëœë“œëª… ë“±ë¡ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸     |
| `registerFailMaxSize`       | ìµœëŒ€ ê¸¸ì´ ì´ˆê³¼ ë¸Œëœë“œëª… ë“±ë¡ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸ |
| `registerFailDuplicate`     | ì¤‘ë³µ ë¸Œëœë“œëª… ë“±ë¡ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸         |
| `deleteSuccess`             | ì •ìƒì ì¸ ë¸Œëœë“œ ì‚­ì œ í…ŒìŠ¤íŠ¸            |
| `deleteFail`                | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë¸Œëœë“œ ì‚­ì œ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸   |

### âœ… CategoryControllerTest
| í…ŒìŠ¤íŠ¸ ë©”ì„œë“œëª…           | ì„¤ëª…                                |
|--------------------------|-----------------------------------|
| `getCategoriesLowest`      | ì „ì²´ ì¹´í…Œê³ ë¦¬ë³„ ìµœì €ê°€ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ í…ŒìŠ¤íŠ¸        |
| `getCategoryLowestHighest` | íŠ¹ì • ì¹´í…Œê³ ë¦¬ì˜ ìµœì €ê°€ ë° ìµœê³ ê°€ ìƒí’ˆ ì¡°íšŒ í…ŒìŠ¤íŠ¸   |
| `getCategoryLowestHighestFail` | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì¹´í…Œê³ ë¦¬ ì¡°íšŒ ì‹œ ì‹¤íŒ¨ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸    |

### âœ… ProductControllerTest
| í…ŒìŠ¤íŠ¸ ë©”ì„œë“œëª…             | ì„¤ëª…                                    |
|----------------------------|---------------------------------------|
| `registerSuccess`            | ì •ìƒ ìƒí’ˆ ë“±ë¡ í…ŒìŠ¤íŠ¸                          |
| `registerFailBrandBlank`     | ë¸Œëœë“œëª…ì´ ë¹ˆ ë¬¸ìì—´ì¼ ë•Œ ë“±ë¡ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸              |
| `registerFailBrandNotFound`  | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë¸Œëœë“œë¡œ ë“±ë¡ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸               |
| `registerFailCategoryNotFound` | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì¹´í…Œê³ ë¦¬ë¡œ ë“±ë¡ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸             |
| `registerFailPriceMinValid`  | ê°€ê²©ì´ ìµœì†Œê°’(0) ë¯¸ë§Œì¼ ë•Œ ë“±ë¡ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸            |
| `registerFailPriceMaxValid`  | ê°€ê²©ì´ ìµœëŒ€ê°’(100,000,000) ì´ˆê³¼ì¼ ë•Œ ë“±ë¡ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸  |
| `modifySuccess`              | ì •ìƒ ìƒí’ˆ ìˆ˜ì • í…ŒìŠ¤íŠ¸                          |
| `modifyFailNotFoundBrand`    | ìˆ˜ì • ì‹œ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë¸Œëœë“œë¡œ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸             |
| `modifyFailNotFoundCategory` | ìˆ˜ì • ì‹œ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì¹´í…Œê³ ë¦¬ë¡œ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸           |
| `modifyFailTypeMismatch`     | ìƒí’ˆ ID íƒ€ì… ì˜¤ë¥˜ë¡œ ìˆ˜ì • ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸                   |
| `modifyFailInvalidId`        | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìƒí’ˆ IDë¡œ ìˆ˜ì • ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸                |
| `deleteSuccess`              | ì •ìƒ ìƒí’ˆ ì‚­ì œ í…ŒìŠ¤íŠ¸                          |
| `deleteFail`                 | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìƒí’ˆ ì‚­ì œ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸                   |

### âœ… ProductRepositoryTest
| í…ŒìŠ¤íŠ¸ ë©”ì„œë“œëª…          | ì„¤ëª…                                                         |
|-------------------------| ---------------------------------------------------------- |
| `getCategoriesLowestTest`   | ëª¨ë“  ì¹´í…Œê³ ë¦¬ì—ì„œ ë¸Œëœë“œë³„ ìµœì €ê°€ ìƒí’ˆ ì¡°íšŒ í…ŒìŠ¤íŠ¸                               |
| `getCategoriesHighestTest`  | ëª¨ë“  ì¹´í…Œê³ ë¦¬ì—ì„œ ë¸Œëœë“œë³„ ìµœê³ ê°€ ìƒí’ˆ ì¡°íšŒ í…ŒìŠ¤íŠ¸             |
| `getBrandLowestTest`        | ë¸Œëœë“œë³„ ì¹´í…Œê³ ë¦¬ ìµœì €ê°€ ìƒí’ˆ ì¡°íšŒ í…ŒìŠ¤íŠ¸         |


### âœ… ProductRankServiceTest
| í…ŒìŠ¤íŠ¸ ë©”ì„œë“œëª…                            | ì„¤ëª…                                                |
|-------------------------------------------|---------------------------------------------------|
| `testRankAddUpdate`                       | - A ë¸Œëœë“œì˜ ìƒí’ˆì„ ê° ì¹´í…Œê³ ë¦¬ë³„ ìµœì €ê°€ë¡œ ìƒì„±í•˜ê³  ë­í‚¹ì„ ê°±ì‹  í…ŒìŠ¤íŠ¸         |
| `testRankDelUpdate`                       | - ë­í‚¹ì— ë°˜ì˜ëœ ìƒí’ˆì„ ì‚­ì œí•œ í›„ ë­í‚¹ ê°±ì‹  í…ŒìŠ¤íŠ¸                     |
| `testRankAddReloadTest`                   | - ë­í‚¹ ì œí•œ(MaxRankSize)ì´ ì•„ë‹Œ ê²½ìš° ìƒí’ˆ í…Œì´ë¸” ê¸°ì¤€ ê°±ì‹  í…ŒìŠ¤íŠ¸      |
| `testRankAddWhenRankLimitHighScoreTest`   | - ë­í‚¹ ì œí•œ(MaxRankSize) ìƒíƒœì—ì„œ ë†’ì€ ì ìˆ˜ë¥¼ ê°€ì§„ ìƒí’ˆì´ ë“±ë¡ ê°±ì‹  í…ŒìŠ¤íŠ¸ |

## âœ… API Test
> API ì •ì˜ì„œë¥¼ ì°¸ê³ í•˜ì—¬ API í…ŒìŠ¤íŠ¸ ë„êµ¬ë¥¼ í™œìš©í•˜ì—¬ ìš”ì²­ í…ŒìŠ¤íŠ¸ë¥¼ í•©ë‹ˆë‹¤.
> <br>Postman ì‚¬ìš©ì‹œ /api-docs/postman/api.postman_collection.json íŒŒì¼ì„ importí•˜ì—¬ ì‚¬ìš©.
 




